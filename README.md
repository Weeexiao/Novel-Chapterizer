# Novel Chapterizer (小说章节分割工具)

一个基于Web的工具，可以将TXT格式的小说按章节分割成单独的MD文档，并支持生成EPUB电子书。

## 功能特点

- **章节分割**：自动识别并分割TXT小说中的各个章节
- **多种编码支持**：支持UTF-8、GBK、GB2312、ASCII等多种文件编码
- **灵活的章节识别**：支持多种章节标题格式，如：
  - 第1章 首次灾害：大洪水
  - 第二章 终得宝箱，天赋首秀
  - 第三章 我爱你
  - 第4章 啦啦啦...
- **自定义规则**：可以自定义章节标题的识别规则
- **多种输出格式**：
  - 单独的Markdown文件（.md）
  - 所有章节打包成ZIP文件
  - 生成EPUB电子书格式
- **批量下载**：一键下载所有分割后的章节

## 使用方法

1. 在浏览器中打开 `index.html` 文件
2. 点击"选择TXT小说文件"按钮，选择要处理的小说文件
3. 根据需要选择文件编码（默认为UTF-8）
4. 选择章节标题规则：
   - 使用默认规则（推荐）
   - 选择预设规则
   - 自定义规则（输入正则表达式）
5. 点击"分割章节"按钮开始处理
6. 处理完成后，可以选择以下操作：
   - 点击单个章节链接下载特定章节
   - 点击"批量下载所有章节"将所有章节打包成ZIP文件下载
   - 点击"生成并下载EPUB电子书"生成EPUB格式的电子书并下载

## 技术实现

本工具完全基于前端技术实现，无需服务器支持：

- **HTML5**：提供用户界面
- **CSS3**：美化界面样式
- **JavaScript**：实现核心功能
- **JSZip**：用于创建ZIP文件和EPUB文件
- **正则表达式**：识别章节标题

## 支持的章节格式

工具默认支持以下章节标题格式：

- 第1章 首次灾害：大洪水
- 第2章 终得宝箱，天赋首秀
- 第三章 我爱你
- 第四章 啦啦啦...

也可以通过自定义正则表达式来支持其他格式。

## 文件命名规则

分割后的文件将按照以下规则命名：

```
第X章_章节标题.md
```

其中X是章节序号（阿拉伯数字），章节标题是原章节标题中除章节序号外的部分。

## 自定义规则

如果默认规则无法满足需求，可以选择"自定义规则"选项，并输入符合JavaScript语法的正则表达式。

正则表达式需要包含两个捕获组：
1. 第一个捕获组：章节序号部分（如"第1章"）
2. 第二个捕获组：章节标题部分（如"首次灾害：大洪水"）

例如，对于默认格式可以使用以下正则表达式：
```javascript
^(第[一二三四五六七八九十\d]+章)(?:\s+)(.*)$
```

## 浏览器兼容性

本工具支持所有现代浏览器，包括：
- Chrome 50+
- Firefox 45+
- Safari 10+
- Edge 12+

## 注意事项

1. 本工具完全在浏览器端运行，不会上传任何文件到服务器
2. 处理大文件时可能需要一些时间，请耐心等待
3. 生成的EPUB文件可以在大多数电子书阅读器中正常打开
4. 如果遇到编码问题，请尝试切换不同的编码选项

## 许可证

本项目为开源项目，可用于任何目的，包括商业用途。